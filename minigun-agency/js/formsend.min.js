const file=document.querySelector(".file"),filePreview=document.querySelector(".file-preview"),bady=document.querySelector("body"),formAll=document.querySelectorAll(".form-all");formAll.forEach(e=>{function t(e){e.parentElement.classList.add("err"),e.classList.add("err")}function l(e){e.parentElement.classList.remove("err"),e.classList.remove("err")}function r(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}e.addEventListener("submit",(async function(n){n.preventDefault();!function(e){let n=0,c=e.querySelectorAll("._req");for(let e=0;e<c.length;e++){const o=c[e];l(o),o.classList.contains("_email")?r(o)&&(t(o),n++):("checkbox"===o.getAttribute("type")&&!1===o.checked||""===o.value)&&(t(o),n++)}}(e);let c=new FormData(e);file&&c.append("file",file.files[0]);(await fetch("https://minigun-agency.by/sendmail.php",{method:"POST",body:c})).ok?e.reset():alert("Ошибка")}))});